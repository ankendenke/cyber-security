In the world of Linux systems administration, understanding logs is akin to deciphering the language of your server's soul. Logs provide a breadcrumb trail of system activities, errors, and events crucial for troubleshooting, auditing, and security analysis. Knowing how to locate, parse, and analyse log files is worth mastering.

The initial point is to understand the two primary types of logging mechanisms: kernel and user.

- **Kernel** logs provide a backstage pass into your system's inner workings. They include messages related to hardware events, driver operations, and system errors.
- **User** logs capture user interactions between users, applications, and the operating system. They include login attempts, command executions, and app-specific activities.

### Logging Levels

The Linux logs have different levels of importance, which help categorise messages based on severity and allow administrators and analysts to prioritise their actions. The levels used by Linux include:

|Level Name|Description|
|---|---|
|EMERGENCY|The highest level is adopted by messages when the system is unusable or crashes.|
|ALERT|Provides information where user attention is immediately required.|
|CRITICAL|Provides information about critical errors, whether hardware or software-related.|
|ERROR|Notifies the user about non-critical errors, such as failed device recognition or driver-related issues.|
|WARNING|The default log level to display warnings about non-imminent errors.|
|NOTICE|Notifies about events which are worth having a look at.|
|INFO|Provides informational messages about system actions and operations.|
|DEBUG|Detailed information used for debugging, mostly relevant during development or troubleshooting.|

  

### Kernel Logging

The kernel is the operating system's core, orchestrating hardware interactions, process management, and resource allocation. Kernel logs, often referred to as kernel messages, provide a backstage pass into the inner workings of your system. From hardware initialisation to driver crashes, kernel logs chronicle everything. These logs are critical for diagnosing hardware failures, identifying problematic drivers, and troubleshooting system crashes.

The console outputs information about the system startup during a Linux host's boot process. Logging is done via the **kernel ring buffer to avoid data loss**, which handles messages from the kernel and kernel modules. The kernel ring buffer only exists in memory and is of a fixed size, which means that once full, older entries are overwritten with every new log encountered.

We can view the current contents of the ring buffer by running the command `dmesg` as root or privileged user on the host. 

Reading the kernel ring buffer

```shell-session
ubuntu@tryhackme:~$ sudo dmesg
[    0.000000] Linux version 5.15.0-1063-aws (buildd@lcy02-amd64-003) (gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, GNU ld (GNU Binutils for Ubuntu) 2.34) #69~20.04.1-Ubuntu SMP Fri May 10 19:20:12 UTC 2024 (Ubuntu 5.15.0-1063.69~20.04.1-aws 5.15.152)
[    0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz-5.15.0-1063-aws root=PARTUUID=da63a61e-01 ro console=tty1 console=ttyS0 nvme_core.io_timeout=4294967295 panic=-1
[    0.000000] KERNEL supported cpus:
[    0.000000]   Intel GenuineIntel
[    0.000000]   AMD AuthenticAMD
[    0.000000]   Hygon HygonGenuine
[    0.000000]   Centaur CentaurHauls
[    0.000000]   zhaoxin   Shanghai  
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009e000-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000efffffff] usable
[    0.000000] BIOS-e820: [mem 0x00000000fc000000-0x00000000ffffffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000100000000-0x000000010fffffff] usable
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] SMBIOS 2.7 present.
[    0.000000] DMI: Xen HVM domU, BIOS 4.11.amazon 08/24/2006
[    0.000000] Hypervisor detected: Xen HVM
[    0.000000] Xen version 4.11.
[    0.000000] platform_pci_unplug: Netfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated NICs.
[    0.000000] platform_pci_unplug: Blkfront and the Xen platform PCI driver have been compiled for this kernel: unplug emulated disks.
```

  

Additionally, it is essential to know that kernel logs are stored in the `/var/log/kern.log` file, which is managed by the **rsyslog** or **syslog** service. We can view the kern.log file using common file-viewing commands such as **cat**, **less,** or **tail**.